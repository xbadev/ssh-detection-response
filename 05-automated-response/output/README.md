# Response Output

This directory contains the runtime output files generated by the automated response script.

These files are excluded from version control via `.gitignore` because they represent **dynamic runtime state** that changes with each script execution and should not be committed to the repository.

---

## Output Files

### `notify_state.json`

**Purpose:** Tracks which detection alerts have already been processed to prevent duplicate notifications.

**Format:**
```json
{
  "processed_alerts": [
    "192.168.56.30|5|2026-01-16 10:12:13.177062+00:00|2026-01-16 10:12:15.974722+00:00"
  ]
}
```

**Contents:**
- Array of processed alert signatures (IP + count + time window)
- Enables deduplication across script runs
- Prevents sending the same notification multiple times

**Usage:**
- Maintains state between systemd service executions
- Ensures each unique attack is notified exactly once
- Persists across service restarts

---

### `notifications.log`

**Purpose:** Records all sent webhook notifications with timestamps for audit trail.

**Format:**
```
2026-01-16 10:15:00 - Notification sent for alert: 192.168.56.30 | 5 failures
```

**Contents:**
- Timestamp of notification
- Alert details that triggered notification
- Delivery status information

**Usage:**
- Provides audit trail of response actions
- Helps troubleshoot notification delivery issues
- Documents automated response history

---

## Why `.gitignore`?

These files are excluded from version control because:

**Runtime Data vs. Code**
- These files contain **live operational data**, not source code or configuration
- They change constantly during normal script operation
- Their content is specific to a single environment and response session

**Environment-Specific**
- Notification state and logs are unique to each lab instance
- Committing them would pollute the repository with local runtime artifacts
- Other users cloning the repo should generate their own state

**Security Considerations**
- Notification logs may contain IP addresses from real security events
- State files track ongoing incident response
- These should remain local to the response environment

**Best Practice**
- Source code and configuration belong in version control
- Runtime output and state files do not
- This separation keeps the repository clean and focused on reproducible infrastructure

---

## File Generation

Both files are automatically created by the response script on first execution:

- **`notify_state.json`** is updated each time an alert is processed
- **`notifications.log`** is appended to each time a notification is sent

If deleted, the script will regenerate them on next execution with fresh state.
